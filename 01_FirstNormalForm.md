# Переведення початкової таблиці в першу нормальну форму (1НФ)

### 1. Вихідна таблиця

| Номер_замовлення | Назва_товару і кількість | Адреса_клієнта | Дата_замовлення | Клієнт    |
|------------------|--------------------------|----------------|-----------------|-----------|
| 101              | Лептоп: 3, Мишка: 2     | Хрещатик 1     | 2023-03-15      | Мельник   |
| 102              | Принтер: 1              | Басейна 2      | 2023-03-16      | Шевченко  |
| 103              | Мишка: 4                | Комп’ютерна 3  | 2023-03-17      | Коваленко |

Основна проблема: у стовпці **“Назва_товару і кількість”** зберігається кілька товарів в одному полі (наприклад, “Лептоп: 3, Мишка: 2”), що не правельно до 1НФ.

### 2. Правила 1НФ

1. **Атомарність**: кожен атрибут у таблиці повинен бути атомарним, тобто значення кожного атрибута повинно бути неподільним. Попросту, кожен стовпець має містити лише одне значення (не списки, не складені значення).   
2. **Відсутність повторюваних груп**: не можна мати, наприклад, “товар1”, “товар2” тощо як окремі колонки, і не можна зберігати різні товари в одному полі (не має в конспекті).

### 3. Розподіл на дві таблиці

Щоб дотримати 1НФ, розбиваємо початкову таблицю на:

1. **Orders** (дані про замовлення):

| **order_id** (PK) | order_date  | client_name | client_address |
|--------------------|-------------|-------------|----------------|
| 101                | 2023-03-15  | Мельник     | Хрещатик 1     |
| 102                | 2023-03-16  | Шевченко    | Басейна 2      |
| 103                | 2023-03-17  | Коваленко   | Комп’ютерна 3  |

- **order_id**: первинний ключ (унікальний номер замовлення).
- **order_date**: дата замовлення.
- **client_name**, **client_address**: тимчасово зберігаємо інформацію про клієнта (у 3НФ винесемо в окрему сутність).

2. **OrderItems** (товари та їх кількість у кожному замовленні):

| **order_id** (FK) | **product_name** | **product_qty** |
|--------------------|------------------|-----------------|
| 101                | Лептоп          | 3               |
| 101                | Мишка           | 2               |
| 102                | Принтер         | 1               |
| 103                | Мишка           | 4               |

- Кожен рядок відповідає **одній** товарній позиції в конкретному замовленні.
- **order_id** — зовнішній ключ, що посилається на таблицю `Orders(order_id)`.
- Можливий складений ключ `(order_id, product_name)` або можна ввести окремий `item_id`.

### 4. Як це задовольняє 1НФ

- **Атомарність**: тепер немає полів, де зберігається декілька товарів або значень одночасно.  
- **Унікальність рядків**: у `Orders` за `order_id`, у `OrderItems` або складений PK `(order_id, product_name)`.  
- **Відсутність повторюваних груп**: кожен товар і кількість — в окремому рядку таблиці `OrderItems`.

---

## Висновок

Так ми отримали структуру, де дані про замовлення і товари зберігаються у різних таблицях, кожне поле — атомарне. Це відповідає вимогам першої нормальної форми.

